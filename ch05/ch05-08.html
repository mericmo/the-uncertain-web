<!DOCTYPE html>
<html class="no-js" lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>The Uncertain Web Code Samples</title>
        <meta name="description" content="">

        <link rel="stylesheet" href="../_assets/css/normalize.css">
        <link rel="stylesheet" href="../_assets/css/main.css">
        <link rel="stylesheet" href="spy.css">
    </head>
    <body>
<canvas id="track" width="1024" height="768"></canvas>
<button id="reset">Reset</button>
<script>

window.addEventListener('DOMContentLoaded', function() {
var canvas = document.getElementById("track"),
    ctx = canvas.getContext("2d");  
function randomHex(){
  return '#'+Math.floor(Math.random()*16777215).toString(16);
}
function circle( params ) {
  params = params || {};
  var x = params.x,
    y = params.y,
    radius = params.radius || 10,
    fillStyle = params.fillStyle || false;  
    ctx.moveTo( x, y );
    ctx.beginPath();
    ctx.arc( x, y, radius, 0, 2 * Math.PI);
    if ( fillStyle ) {
      ctx.fillStyle = fillStyle;
      ctx.fill();
    }
    ctx.closePath();
  }
  function bubble(e){
    e.preventDefault();
    var x,y;
    if (e.touches){
      for (var i = 0, len = e.touches.length; i < len; i++){
        x = e.touches[i].clientX;
        y = e.touches[i].clientY;
        circle({x:x,y:y,radius:20 * Math.random()  ,fillStyle:randomHex()});  
      }
    } else {
      x = e.clientX;
      y = e.clientY;
      circle({x:x,y:y,radius:20 * Math.random()  ,fillStyle:randomHex()})
    }
  }
  canvas.addEventListener('mousemove', bubble, false);
  canvas.addEventListener('touchmove', bubble, false);
  document.getElementById("reset")
    .addEventListener('click', function(){
      ctx.clearRect( 0, 0, 1024, 768 );
    }, false);
}, false);

</script>
    </body>
</html>